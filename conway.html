<!DOCTYPE html>
<html>
<head>
  <title>Conway's Game of Life</title>
  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #292F3E;
    }
    canvas {
      //border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas"></canvas>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    const cellSize = 15;
    const numRows = Math.floor(canvas.height / cellSize);
    const numCols = Math.floor(canvas.width / cellSize);
    let grid = createEmptyGrid();

    function createEmptyGrid() {
      return Array.from({ length: numRows }, () => Array(numCols).fill(0));
    }

    function drawGrid() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let row = 0; row < numRows; row++) {
        for (let col = 0; col < numCols; col++) {
          ctx.fillStyle = grid[row][col] ? 'white' : '#292F3E';
          ctx.fillRect(col * cellSize, row * cellSize, cellSize, cellSize);
          //ctx.strokeRect(col * cellSize, row * cellSize, cellSize, cellSize);
        }
      }
    }

    function updateGrid() {
      const newGrid = createEmptyGrid();
      for (let row = 0; row < numRows; row++) {
        for (let col = 0; col < numCols; col++) {
          const neighbors = countNeighbors(row, col);
          if (grid[row][col] === 1) {
            if (neighbors < 2 || neighbors > 3) {
              newGrid[row][col] = 0;
            } else {
              newGrid[row][col] = 1;
            }
          } else {
            if (neighbors === 3) {
              newGrid[row][col] = 1;
            }
          }
        }
      }
      grid = newGrid;
    }

    function countNeighbors(row, col) {
      let count = 0;
      for (let i = -1; i <= 1; i++) {
        for (let j = -1; j <= 1; j++) {
          const newRow = row + i;
          const newCol = col + j;
          if (newRow >= 0 && newRow < numRows && newCol >= 0 && newCol < numCols) {
            count += grid[newRow][newCol];
          }
        }
      }
      count -= grid[row][col];
      return count;
    }

    function randomizeGrid() {
      for (let row = 0; row < numRows; row++) {
        for (let col = 0; col < numCols; col++) {
          grid[row][col] = Math.random() > 0.5 ? 1 : 0;
        }
      }
    }

    function startGame() {
      randomizeGrid();
      setInterval(() => {
        updateGrid();
        drawGrid();
      }, 100);
    }

    startGame();
  </script>
</body>
</html>

